{"version":3,"file":"static/js/35.2195bd20.chunk.js","mappings":"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","sources":["pages/CEO_Dashboard/CEODashboardComponents/Billing.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { FaDownload, FaCreditCard, FaPrint, FaSave } from \"react-icons/fa\";\nimport { useAuth } from \"../../../contexts/AuthContext\";\n\n/* ---------- localStorage helpers & keys ---------- */\nconst KEY_PAYMENT = \"conseqx_billing_payment_v1\";\nconst KEY_RECEIPTS = \"conseqx_billing_receipts_v1\";\nconst KEY_SUBS = \"conseqx_billing_subscription_v1\";\n\nfunction readJSON(key, fallback) {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : fallback;\n  } catch {\n    return fallback;\n  }\n}\nfunction writeJSON(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch {}\n}\n\n/* ---------- small helpers (unique names) ---------- */\nfunction digitsOnly(str = \"\") {\n  return String(str).replace(/\\D/g, \"\");\n}\nfunction formatCurrency(n = 0) {\n  try {\n    return `₦${Number(n).toLocaleString()}`;\n  } catch {\n    return `₦${n}`;\n  }\n}\nfunction genId(prefix = \"TX\") {\n  return `${prefix}-${Date.now().toString(36)}-${Math.floor(Math.random() * 9000 + 1000)}`;\n}\nfunction prettyDate(ts = Date.now()) {\n  try {\n    return new Date(ts).toLocaleString();\n  } catch {\n    return String(ts);\n  }\n}\nfunction guessCardBrand(num = \"\") {\n  const s = digitsOnly(num);\n  if (s.startsWith(\"4\")) return \"Visa\";\n  if (/^5[1-5]/.test(s)) return \"Mastercard\";\n  if (/^3[47]/.test(s)) return \"Amex\";\n  return \"Card\";\n}\n\n/* ---------- Modal (themed) ---------- */\nfunction Modal({ open, onClose, title, children, footer, confirmLabel = \"Confirm\", onConfirm, darkMode = false }) {\n  if (!open) return null;\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div\n        className=\"absolute inset-0\"\n        style={{ backgroundColor: darkMode ? \"rgba(0,0,0,0.6)\" : \"rgba(0,0,0,0.45)\" }}\n        onClick={onClose}\n        role=\"presentation\"\n      />\n      <div\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"modal-title\"\n        className={`relative z-10 w-full max-w-2xl rounded-2xl p-5 shadow-2xl transition-transform transform ${darkMode ? \"bg-gray-900 border border-gray-700 text-gray-100\" : \"bg-white border border-gray-100 text-gray-900\"}`}\n      >\n        <div className=\"flex items-start justify-between\">\n          <div id=\"modal-title\" className=\"text-lg font-semibold\">\n            {title}\n          </div>\n          <button onClick={onClose} aria-label=\"Close\" className={`${darkMode ? \"text-gray-300\" : \"text-gray-600\"}`}>✕</button>\n        </div>\n\n        <div className=\"mt-4 text-sm\">{children}</div>\n\n        <div className=\"mt-4 flex justify-end gap-3\">\n          {footer ? (\n            footer\n          ) : onConfirm ? (\n            <>\n              <button onClick={onClose} className={`px-3 py-2 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border border-gray-200 text-gray-700\"}`}>\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  onConfirm();\n                }}\n                className=\"px-3 py-2 rounded-md bg-gradient-to-r from-indigo-600 to-blue-600 text-white\"\n              >\n                {confirmLabel}\n              </button>\n            </>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------- receipt HTML builder (dark-mode aware) ---------- */\nfunction buildReceiptHTML({ receipt, darkMode }) {\n  const bg = darkMode ? \"#0b1220\" : \"#ffffff\";\n  const text = darkMode ? \"#e6eef8\" : \"#0f1724\";\n  const accent = \"#4f46e5\";\n  const { id, date, amount, itemDesc, methodLabel, cardLast4, orgName, periodLabel } = receipt;\n  return `<!doctype html>\n<html>\n<head>\n<meta charset=\"utf-8\"/>\n<title>Receipt ${id}</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n<style>\n  :root{ --bg:${bg}; --text:${text}; --accent:${accent}; }\n  body{ margin:0; font-family: Inter, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial; background:var(--bg); color:var(--text); padding:24px; }\n  .card{ max-width:720px; margin:0 auto; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0)); border-radius:12px; padding:28px; box-shadow: 0 8px 30px rgba(2,6,23,0.35); }\n  h1{ margin:0; color:var(--accent); font-size:20px; }\n  .meta{ display:flex; justify-content:space-between; margin-top:12px; color: #9aa6c6; font-size:13px; }\n  .line{ height:1px; background:rgba(0,0,0,0.06); margin:18px 0; border-radius:1px; }\n  table{ width:100%; border-collapse:collapse; margin-top:8px; }\n  th, td{ text-align:left; padding:8px 0; font-size:14px; }\n  .right{ text-align:right; }\n  .total{ font-weight:700; font-size:18px; color:var(--text); }\n  .small{ font-size:12px; color:#9aa6c6; }\n  .footer{ margin-top:18px; font-size:12px; color:#9aa6c6; }\n  @media print {\n    body{ padding:0; }\n    .card{ box-shadow:none; border-radius:0; }\n  }\n</style>\n</head>\n<body>\n  <div class=\"card\" role=\"document\" aria-label=\"Receipt\">\n    <div style=\"display:flex; justify-content:space-between; align-items:center;\">\n      <div>\n        <h1>ConseQ-X</h1>\n        <div class=\"small\">Receipt</div>\n      </div>\n      <div style=\"text-align:right;\">\n        <div style=\"font-weight:600\">${orgName || \"Organization\"}</div>\n        <div class=\"small\">${periodLabel || \"\"}</div>\n      </div>\n    </div>\n\n    <div class=\"meta\">\n      <div>Receipt #: <strong>${id}</strong></div>\n      <div>${new Date(date).toLocaleString()}</div>\n    </div>\n\n    <div class=\"line\"></div>\n\n    <table aria-hidden=\"false\">\n      <thead>\n        <tr><th>Item</th><th class=\"right\">Amount</th></tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>${itemDesc}</td>\n          <td class=\"right\">${formatCurrency(amount)}</td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr><td class=\"right total\">Total</td><td class=\"right total\">${formatCurrency(amount)}</td></tr>\n      </tfoot>\n    </table>\n\n    <div style=\"margin-top:14px; display:flex; justify-content:space-between; gap:16px; align-items:center;\">\n      <div>\n        <div class=\"small\">Payment method</div>\n        <div style=\"margin-top:4px\">${methodLabel}${cardLast4 ? ` • • • • ${cardLast4}` : \"\"}</div>\n      </div>\n\n      <div style=\"text-align:right;\">\n        <div class=\"small\">Receipt ID</div>\n        <div style=\"margin-top:4px\">${id}</div>\n      </div>\n    </div>\n\n    <div class=\"footer\">\n      Thank you for your payment. If you need assistance, contact sales@conseq-x.com.\n    </div>\n  </div>\n</body>\n</html>`;\n}\n\n/* ---------- expiry parsing/validation helpers ---------- */\n/**\n * Accepts formats:\n *  - MM/YY\n *  - MMYY\n *  - MM/YYYY\n *  - MMYYYY\n * Returns { mon, yr } normalized (yr full 4-digit) or null if invalid format.\n */\nfunction parseExpiry(v = \"\") {\n  if (!v) return null;\n  const cleaned = String(v).trim().replace(/\\s/g, \"\");\n  // allow optional slash\n  const m = cleaned.match(/^(\\d{1,2})\\/?(\\d{2}|\\d{4})$/);\n  if (!m) return null;\n  let mon = Number(m[1]);\n  let yr = Number(m[2]);\n  if (Number.isNaN(mon) || Number.isNaN(yr)) return null;\n  if (yr < 100) yr = 2000 + yr;\n  return { mon, yr };\n}\nfunction isExpiryInFuture(v = \"\") {\n  const parsed = parseExpiry(v);\n  if (!parsed) return false;\n  const { mon, yr } = parsed;\n  if (mon < 1 || mon > 12) return false;\n  const expDate = new Date(yr, mon - 1, 1);\n  const endOfMonth = new Date(expDate.getFullYear(), expDate.getMonth() + 1, 0, 23, 59, 59, 999);\n  return endOfMonth.getTime() > Date.now();\n}\n\n/* ---------- main CEOBilling component ---------- */\nexport default function CEOBilling() {\n  const { darkMode } = useOutletContext();\n  const auth = useAuth();\n\n  // persisted state\n  const [paymentMethod, setPaymentMethod] = useState(() => readJSON(KEY_PAYMENT, null));\n  const [receipts, setReceipts] = useState(() => readJSON(KEY_RECEIPTS, []));\n  const [subscription, setSubscription] = useState(() => readJSON(KEY_SUBS, auth?.org?.subscription || { tier: \"free\", expiresAt: null }));\n\n  // form/transient UI\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [cardName, setCardName] = useState(\"\");\n  const [cardExpiry, setCardExpiry] = useState(\"\");\n  const [cardCVV, setCardCVV] = useState(\"\");\n  const [autoPay, setAutoPay] = useState(() => (paymentMethod?.autoPay || false));\n  const [busy, setBusy] = useState(false);\n\n  // inline validation errors\n  const [cardNumberError, setCardNumberError] = useState(\"\");\n  const [cardExpiryError, setCardExpiryError] = useState(\"\");\n  const [cardCVVError, setCardCVVError] = useState(\"\");\n\n  // modal system: { open, type: 'info'|'confirm', title, body, confirmLabel, onConfirm, footer }\n  const [modalState, setModalState] = useState({ open: false });\n\n  useEffect(() => writeJSON(KEY_PAYMENT, paymentMethod), [paymentMethod]);\n  useEffect(() => writeJSON(KEY_RECEIPTS, receipts), [receipts]);\n  useEffect(() => writeJSON(KEY_SUBS, subscription), [subscription]);\n\n  // plan prices\n  const PRICES = useMemo(() => ({ monthly: 39900, yearly: 399000 }), []);\n\n  const cardOnFile = Boolean(paymentMethod);\n  const planTier = subscription?.tier || \"free\";\n  const planName = planTier === \"premium\" ? \"ConseQ-X Ultra\" : \"Free\";\n  const planExpiry = subscription?.expiresAt ? new Date(subscription.expiresAt).toLocaleDateString() : \"—\";\n  const subscriptionActive = subscription?.expiresAt && new Date(subscription.expiresAt).getTime() > Date.now();\n\n  /**\n   * TEMP OVERRIDE: allow pay buttons to be usable even when a subscription is active.\n   * Set to `false` in production to re-enable the guard preventing duplicate active subscriptions.\n   */\n  const ALLOW_PAY_WHILE_ACTIVE = true; // <-- set to false for production behavior\n\n  /* ---------- validation helpers ---------- */\n  function isValidCardNumber(num = \"\") {\n    const s = digitsOnly(num);\n    return s.length >= 13 && s.length <= 19;\n  }\n  function isValidCVV(cvv = \"\", brand = \"Card\") {\n    const s = digitsOnly(cvv);\n    if (brand === \"Amex\") return s.length === 4;\n    return s.length === 3;\n  }\n\n  /* ---------- receipt & payment processing (mock) ---------- */\n  function createReceipt({ amount, itemDesc, methodLabel, cardLast4, periodLabel }) {\n    const receipt = {\n      id: genId(\"RCPT\"),\n      date: Date.now(),\n      amount,\n      itemDesc,\n      methodLabel,\n      cardLast4,\n      periodLabel,\n      orgName: auth?.org?.name || (auth?.user?.email ? auth.user.email.split(\"@\")[1] : \"Organization\"),\n    };\n    setReceipts((prev) => [receipt, ...prev]);\n    return receipt;\n  }\n\n  function downloadReceipt(receipt) {\n    const html = buildReceiptHTML({ receipt, darkMode });\n    const blob = new Blob([html], { type: \"text/html;charset=utf-8\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `${receipt.id}.html`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    setTimeout(() => URL.revokeObjectURL(url), 2000);\n  }\n\n  function openPrintView(receipt) {\n    const html = buildReceiptHTML({ receipt, darkMode });\n    const w = window.open(\"\", \"_blank\");\n    if (!w) return;\n    w.document.write(html);\n    w.document.close();\n    setTimeout(() => {\n      try {\n        w.focus();\n        w.print();\n      } catch (e) {\n        console.warn(\"Print blocked or failed\", e);\n      }\n    }, 300);\n  }\n\n  async function mockProcessPayment({ amount, method = \"card\", periodLabel = \"\" } = {}) {\n    setBusy(true);\n    try {\n      await new Promise((r) => setTimeout(r, 650)); // network simulation\n\n      // require card for auto/online card charges\n      if (method === \"card\" && !paymentMethod) {\n        setModalState({ open: true, type: \"info\", title: \"Card required\", body: <div>Please add a card before charging.</div> });\n        setBusy(false);\n        return false;\n      }\n\n      const cardLast4 = paymentMethod?.last4 || null;\n      const methodLabel = method === \"card\" ? \"Card\" : \"Manual\";\n      const receipt = createReceipt({\n        amount,\n        itemDesc: `${planName} subscription (${periodLabel || \"payment\"})`,\n        methodLabel,\n        cardLast4,\n        periodLabel,\n      });\n\n      // update subscription expiry if charge was for monthly/yearly\n      const nowTs = Date.now();\n      if (periodLabel === \"monthly\") {\n        const expiresAt = nowTs + 30 * 24 * 3600 * 1000;\n        setSubscription((s) => ({ ...(s || {}), tier: \"premium\", expiresAt }));\n      } else if (periodLabel === \"yearly\") {\n        const expiresAt = nowTs + 365 * 24 * 3600 * 1000;\n        setSubscription((s) => ({ ...(s || {}), tier: \"premium\", expiresAt }));\n      }\n\n      setBusy(false);\n\n      setModalState({\n        open: true,\n        type: \"info\",\n        title: \"Payment success\",\n        body: (\n          <div>\n            Payment processed successfully — a receipt was created ({receipt.id}). You can download or print it from the receipts list.\n          </div>\n        ),\n      });\n      return true;\n    } catch (err) {\n      console.error(err);\n      setBusy(false);\n      setModalState({ open: true, type: \"info\", title: \"Payment failed\", body: <div>Payment failed (dev). Check console.</div> });\n      return false;\n    }\n  }\n\n  /* ---------- card management ---------- */\n  function handleSaveCard(e) {\n    e?.preventDefault?.();\n\n    // reset inline errors\n    setCardNumberError(\"\");\n    setCardExpiryError(\"\");\n    setCardCVVError(\"\");\n\n    const brand = guessCardBrand(cardNumber);\n\n    if (!isValidCardNumber(cardNumber)) {\n      setCardNumberError(\"Enter 13–19 digits for card number.\");\n      return;\n    }\n    if (!cardName || cardName.trim().length < 2) {\n      setModalState({ open: true, type: \"info\", title: \"Name required\", body: <div>Please enter the cardholder's name.</div> });\n      return;\n    }\n    if (!parseExpiry(cardExpiry)) {\n      setCardExpiryError(\"Use MM/YY or MMYYYY (e.g. 08/28 or 0828).\");\n      return;\n    }\n    if (!isExpiryInFuture(cardExpiry)) {\n      setCardExpiryError(\"Card expiry must be a future month.\");\n      return;\n    }\n    if (!isValidCVV(cardCVV, brand)) {\n      setCardCVVError(brand === \"Amex\" ? \"Enter 4-digit CVV for Amex.\" : \"Enter 3-digit CVV.\");\n      return;\n    }\n\n    const saved = {\n      brand,\n      last4: digitsOnly(cardNumber).slice(-4),\n      name: cardName,\n      expiry: cardExpiry.trim(),\n      autoPay,\n      addedAt: Date.now(),\n    };\n    setPaymentMethod(saved);\n    setCardNumber(\"\");\n    setCardName(\"\");\n    setCardExpiry(\"\");\n    setCardCVV(\"\");\n    setModalState({ open: true, type: \"info\", title: \"Card saved\", body: <div>Card saved locally (dev). In production, use a PCI-compliant provider.</div> });\n  }\n\n  function handleRemoveCardConfirm() {\n    setModalState({\n      open: true,\n      type: \"confirm\",\n      title: \"Remove card?\",\n      body: <div>Remove saved card and disable auto-pay?</div>,\n      confirmLabel: \"Remove\",\n      onConfirm: () => {\n        setPaymentMethod(null);\n        setAutoPay(false);\n        setModalState({ open: true, type: \"info\", title: \"Card removed\", body: <div>Card removed and auto-pay disabled.</div> });\n      },\n    });\n  }\n\n  function toggleAutoPay() {\n    if (!paymentMethod) {\n      setModalState({ open: true, type: \"info\", title: \"Add card first\", body: <div>Please add a card before enabling auto-pay.</div> });\n      return;\n    }\n    const next = !autoPay;\n    setAutoPay(next);\n    setPaymentMethod((pm) => (pm ? { ...pm, autoPay: next } : pm));\n    setModalState({ open: true, type: \"info\", title: next ? \"Auto-pay enabled\" : \"Auto-pay disabled\", body: <div>Auto subscription setting updated.</div> });\n  }\n\n  /* ---------- pay flow (confirm first, allow override for testing) ---------- */\n  function confirmPay(period) {\n    // Production behavior: block if already active\n    if (!ALLOW_PAY_WHILE_ACTIVE && subscriptionActive) {\n      setModalState({ open: true, type: \"info\", title: \"Subscription active\", body: <div>You already have an active subscription. Renewals are not allowed while active.</div> });\n      return;\n    }\n\n    const amount = period === \"yearly\" ? PRICES.yearly : PRICES.monthly;\n    const methodLabel = paymentMethod ? `${paymentMethod.brand} •••• ${paymentMethod.last4}` : \"No card on file (manual)\";\n    const periodLabel = period === \"yearly\" ? \"Yearly\" : \"Monthly\";\n\n    setModalState({\n      open: true,\n      type: \"confirm\",\n      title: `Confirm ${periodLabel} payment`,\n      body: (\n        <div className=\"space-y-2\">\n          <div>Plan: <strong>{planName}</strong></div>\n          <div>Amount: <strong>{formatCurrency(amount)}</strong></div>\n          <div>Billing: <strong>{periodLabel}</strong></div>\n          <div>Payment method: <strong>{methodLabel}</strong></div>\n          {subscriptionActive && ALLOW_PAY_WHILE_ACTIVE && (\n            <div className=\"text-sm text-yellow-600\">Note: subscription is currently active — you are allowed to test payment while this override is enabled.</div>\n          )}\n        </div>\n      ),\n      confirmLabel: `Pay ${formatCurrency(amount)}`,\n      onConfirm: async () => {\n        setModalState({ open: false });\n        await mockProcessPayment({ amount, method: paymentMethod ? \"card\" : \"manual\", periodLabel: period === \"yearly\" ? \"yearly\" : \"monthly\" });\n      },\n    });\n  }\n\n  /* ---------- receipts status (Active / Expired) ---------- */\n  function getReceiptStatus(r) {\n    const nowTs = Date.now();\n    if (!r.periodLabel) return { label: \"Issued\", active: false };\n    const periodMs = r.periodLabel === \"yearly\" ? 365 * 24 * 3600 * 1000 : 30 * 24 * 3600 * 1000;\n    const expiresAt = r.date + periodMs;\n    if (nowTs <= expiresAt) return { label: \"Active\", active: true, expiresAt };\n    return { label: \"Expired\", active: false, expiresAt };\n  }\n\n  /* ---------- receipts actions with confirm modals (no delete) ---------- */\n  function confirmDownloadReceipt(r) {\n    setModalState({\n      open: true,\n      type: \"confirm\",\n      title: \"Download receipt?\",\n      body: <div>Download receipt <strong>{r.id}</strong> ({formatCurrency(r.amount)}) to your device?</div>,\n      confirmLabel: \"Download\",\n      onConfirm: () => {\n        setModalState({ open: false });\n        downloadReceipt(r);\n      },\n    });\n  }\n\n  function confirmPrintReceipt(r) {\n    setModalState({\n      open: true,\n      type: \"confirm\",\n      title: \"Print receipt?\",\n      body: <div>Open a print view for receipt <strong>{r.id}</strong> ({formatCurrency(r.amount)})?</div>,\n      confirmLabel: \"Open print\",\n      onConfirm: () => {\n        setModalState({ open: false });\n        openPrintView(r);\n      },\n    });\n  }\n\n  /* ---------- other small handlers ---------- */\n  function handleClearForm() {\n    setCardNumber(\"\");\n    setCardName(\"\");\n    setCardExpiry(\"\");\n    setCardCVV(\"\");\n    setCardNumberError(\"\");\n    setCardExpiryError(\"\");\n    setCardCVVError(\"\");\n  }\n\n  return (\n    <section>\n      <Modal\n        open={Boolean(modalState.open)}\n        onClose={() => setModalState({ open: false })}\n        title={modalState.title}\n        footer={modalState.footer}\n        confirmLabel={modalState.confirmLabel}\n        onConfirm={modalState.onConfirm}\n        darkMode={darkMode}\n      >\n        <div className={`${darkMode ? \"text-gray-200\" : \"text-gray-700\"}`}>{modalState.body}</div>\n      </Modal>\n\n      <div className=\"flex items-start justify-between gap-4\">\n        <div>\n          <h2 className={`${darkMode ? \"text-gray-100\" : \"text-gray-900\"} text-lg font-semibold`}>Billing & Receipts</h2>\n          <p className={`mt-2 text-sm ${darkMode ? \"text-gray-300\" : \"text-gray-600\"}`}>\n            Manage subscription, card on file, and download printable receipts. Receipts are generated locally and can be saved as PDF via your browser's Print dialog.\n          </p>\n        </div>\n\n        <div className=\"text-sm text-right\">\n          <div>\n            Plan: <strong className={darkMode ? \"text-gray-100\" : \"\"}>{planName}</strong>\n            <span className=\"ml-3 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\" style={{ background: subscriptionActive ? (darkMode ? \"#052e0f\" : \"#ecfdf5\") : (darkMode ? \"#2b0b0b\" : \"#fff5f5\"), color: subscriptionActive ? (darkMode ? \"#9ee2a7\" : \"#059669\") : (darkMode ? \"#fda4af\" : \"#dc2626\") }}>\n              {subscriptionActive ? `Active • Expires ${planExpiry}` : \"Expired / Inactive\"}\n            </span>\n          </div>\n          <div className={`${darkMode ? \"text-gray-300 text-xs\" : \"text-xs text-gray-500\"}`}>Expires: {planExpiry}</div>\n        </div>\n      </div>\n\n      <div className=\"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Left: subscription & receipts */}\n        <div className={`${darkMode ? \"bg-gray-900 border border-gray-700 text-gray-100\" : \"bg-white border border-gray-100 text-gray-900\"} rounded-2xl p-4 lg:col-span-2 shadow-sm`}>\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <div className={`${darkMode ? \"text-gray-400\" : \"text-sm text-gray-400\"}`}>Subscription</div>\n              <div className=\"text-2xl font-semibold mt-1\">{planName}</div>\n              <div className={`${darkMode ? \"text-gray-400\" : \"text-xs text-gray-500\"} mt-2`}>Upgrade for CEO features, unlimited analyses, and priority support.</div>\n            </div>\n\n            <div className=\"flex flex-col items-end gap-2\">\n              <div className={`${darkMode ? \"text-xs text-green-400\" : \"text-xs text-green-500\"}`}>Save ~2 months</div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => confirmPay(\"monthly\")}\n                  disabled={busy || (!ALLOW_PAY_WHILE_ACTIVE && subscriptionActive)}\n                  className={`px-4 py-2 rounded-md ${busy || (!ALLOW_PAY_WHILE_ACTIVE && subscriptionActive) ? \"bg-gray-300 text-gray-600 cursor-not-allowed\" : \"bg-gradient-to-r from-indigo-600 to-blue-600 text-white\"}`}\n                >\n                  {busy ? \"Processing...\" : `Pay Monthly — ${formatCurrency(PRICES.monthly)}`}\n                </button>\n                <button\n                  onClick={() => confirmPay(\"yearly\")}\n                  disabled={busy || (!ALLOW_PAY_WHILE_ACTIVE && subscriptionActive)}\n                  className={`px-4 py-2 rounded-md ${busy || (!ALLOW_PAY_WHILE_ACTIVE && subscriptionActive) ? \"bg-gray-300 text-gray-600 cursor-not-allowed\" : (darkMode ? \"bg-gray-800 border border-gray-700 text-gray-200\" : \"bg-white border border-gray-200 text-gray-700\")}`}\n                >\n                  {busy ? \"Processing...\" : `Pay Yearly — ${formatCurrency(PRICES.yearly)}`}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <hr className={`my-4 ${darkMode ? \"border-gray-800\" : \"border-gray-200\"}`} />\n\n          <div>\n            <h4 className=\"text-sm font-semibold\">Receipts</h4>\n            <div className=\"mt-3 space-y-3 max-h-96 overflow-auto\">\n              {receipts.length === 0 ? (\n                <div className={`${darkMode ? \"text-gray-300\" : \"text-gray-600\"} text-sm`}>No receipts yet. Payments will generate receipts automatically.</div>\n              ) : (\n                receipts.map((r) => {\n                  const status = getReceiptStatus(r);\n                  return (\n                    <div key={r.id} className={`${darkMode ? \"bg-gray-800 border border-gray-700\" : \"bg-gray-50 border border-gray-100\"} p-3 rounded-md flex items-center justify-between`}>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"font-medium\">{r.itemDesc}</div>\n                          <div className={`text-xs px-2 py-0.5 rounded-full ${status.active ? (darkMode ? \"bg-green-900/30 text-green-300\" : \"bg-green-100 text-green-700\") : (darkMode ? \"bg-red-900/20 text-red-300\" : \"bg-red-100 text-red-700\")}`}>\n                            {status.label}\n                          </div>\n                        </div>\n                        <div className={`${darkMode ? \"text-gray-400\" : \"text-xs text-gray-400\"}`}>{prettyDate(r.date)}</div>\n                      </div>\n\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"text-sm font-semibold\">{formatCurrency(r.amount)}</div>\n\n                        <button\n                          onClick={() => confirmDownloadReceipt(r)}\n                          title=\"Download receipt\"\n                          className={`px-3 py-2 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border-gray-200 text-gray-700\"}`}\n                        >\n                          <FaDownload />\n                        </button>\n\n                        <button\n                          onClick={() => confirmPrintReceipt(r)}\n                          title=\"Print receipt\"\n                          className={`px-3 py-2 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border-gray-200 text-gray-700\"}`}\n                        >\n                          <FaPrint />\n                        </button>\n\n                        {/* delete removed per request */}\n                      </div>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Right: payment method / card management */}\n        <aside className={`${darkMode ? \"bg-gray-900 border border-gray-700 text-gray-100\" : \"bg-white border border-gray-100 text-gray-900\"} rounded-2xl p-4 shadow-sm`}>\n          <div className=\"flex items-center justify-between mb-3\">\n            <div>\n              <div className=\"text-sm font-semibold\">Payment method</div>\n              <div className=\"text-xs text-gray-400\">Card on file and auto-subscription settings</div>\n            </div>\n            <div>\n              {cardOnFile ? (\n                <button onClick={handleRemoveCardConfirm} className={`px-2 py-1 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"\"}`}>Remove</button>\n              ) : null}\n            </div>\n          </div>\n\n          {cardOnFile ? (\n            <div className=\"mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-md bg-indigo-600 text-white px-3 py-2\">\n                  <FaCreditCard />\n                </div>\n                <div>\n                  <div className=\"font-medium\">{paymentMethod.brand || \"Card\"}</div>\n                  <div className=\"text-xs text-gray-400\">•••• •••• •••• {paymentMethod.last4}</div>\n                  <div className=\"text-xs text-gray-400\">Expiry: {paymentMethod.expiry}</div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 flex items-center justify-between\">\n                <div className={`${darkMode ? \"text-gray-400\" : \"text-sm text-gray-400\"}`}>Auto withdraw</div>\n                <div className=\"flex items-center gap-2\">\n                  <button onClick={toggleAutoPay} className={`px-2 py-1 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white\"}`}>\n                    {autoPay ? <span className=\"flex items-center gap-2 text-green-400\">Enabled</span> : <span className=\"flex items-center gap-2 text-gray-400\">Disabled</span>}\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mb-4 text-sm text-gray-500\">No card on file. Add a card below to enable auto-subscription.</div>\n          )}\n\n          <form onSubmit={handleSaveCard} className=\"space-y-3\">\n            <div>\n              <label className=\"text-xs text-gray-400\">Card number</label>\n              <input\n                value={cardNumber}\n                onChange={(e) => {\n                  const raw = e.target.value;\n                  const cleaned = raw.replace(/[^\\d\\s]/g, \"\");\n                  setCardNumber(cleaned.slice(0, 23));\n                  if (cardNumberError) setCardNumberError(\"\");\n                }}\n                placeholder=\"4242 4242 4242 4242\"\n                inputMode=\"numeric\"\n                className={`w-full mt-1 px-3 py-2 rounded border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-100\" : \"bg-white border-gray-200\"}`}\n                aria-label=\"Card number\"\n              />\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-xs text-gray-400 mt-1\">Digits only, 13–19 characters.</div>\n                {cardNumberError && <div className=\"text-xs text-red-500 mt-1\">{cardNumberError}</div>}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"text-xs text-gray-400\">Name on card</label>\n              <input\n                value={cardName}\n                onChange={(e) => setCardName(e.target.value)}\n                placeholder=\"Full name\"\n                className={`w-full mt-1 px-3 py-2 rounded border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-100\" : \"bg-white border-gray-200\"}`}\n              />\n            </div>\n\n            <div className=\"flex gap-2\">\n              <div className=\"flex-1\">\n                <label className=\"text-xs text-gray-400\">Expiry (MM/YY)</label>\n                <input\n                  value={cardExpiry}\n                  onChange={(e) => {\n                    const v = e.target.value.replace(/[^\\d\\/]/g, \"\").slice(0, 6);\n                    setCardExpiry(v);\n                    if (cardExpiryError) setCardExpiryError(\"\");\n                  }}\n                  onBlur={() => {\n                    const parsed = parseExpiry(cardExpiry);\n                    if (parsed) {\n                      const mm = String(parsed.mon).padStart(2, \"0\");\n                      const yy = String(parsed.yr).slice(-2);\n                      setCardExpiry(`${mm}/${yy}`);\n                    }\n                  }}\n                  placeholder=\"08/28\"\n                  className={`w-full mt-1 px-3 py-2 rounded border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-100\" : \"bg-white border-gray-200\"}`}\n                />\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-xs text-gray-400 mt-1\">MM/YY or MMYY</div>\n                  {cardExpiryError && <div className=\"text-xs text-red-500 mt-1\">{cardExpiryError}</div>}\n                </div>\n              </div>\n\n              <div style={{ width: 120 }}>\n                <label className=\"text-xs text-gray-400\">CVV</label>\n                <input\n                  value={cardCVV}\n                  onChange={(e) => {\n                    const v = digitsOnly(e.target.value).slice(0, 4);\n                    setCardCVV(v);\n                    if (cardCVVError) setCardCVVError(\"\");\n                  }}\n                  placeholder=\"123\"\n                  inputMode=\"numeric\"\n                  className={`w-full mt-1 px-3 py-2 rounded border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-100\" : \"bg-white border-gray-200\"}`}\n                />\n                <div className=\"flex items-center justify-between\">\n                  <div />\n                  {cardCVVError && <div className=\"text-xs text-red-500 mt-1\">{cardCVVError}</div>}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <input id=\"autopay\" type=\"checkbox\" checked={autoPay} onChange={(e) => setAutoPay(e.target.checked)} />\n              <label htmlFor=\"autopay\" className=\"text-sm text-gray-400\">Enable auto-subscription (auto withdraw)</label>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <button type=\"submit\" className=\"px-3 py-2 rounded-md bg-gradient-to-r from-indigo-600 to-blue-600 text-white\">\n                <FaSave className=\"inline-block mr-2\" /> Save card\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={handleClearForm}\n                className={`px-3 py-2 rounded-md border ${darkMode ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border-gray-200 text-gray-700\"}`}\n              >\n                Clear\n              </button>\n\n              {cardOnFile && (\n                <button type=\"button\" onClick={handleRemoveCardConfirm} className=\"px-3 py-2 rounded-md border text-red-600\">\n                  Remove\n                </button>\n              )}\n            </div>\n          </form>\n        </aside>\n      </div>\n    </section>\n  );\n}\n"],"names":["KEY_PAYMENT","KEY_RECEIPTS","KEY_SUBS","readJSON","key","fallback","raw","localStorage","getItem","JSON","parse","_unused","writeJSON","value","setItem","stringify","_unused2","digitsOnly","String","arguments","length","undefined","replace","formatCurrency","n","concat","Number","toLocaleString","_unused3","genId","Date","now","toString","Math","floor","random","prettyDate","ts","_unused4","Modal","_ref","open","onClose","title","children","footer","confirmLabel","onConfirm","darkMode","_jsxs","className","_jsx","style","backgroundColor","onClick","role","id","_Fragment","buildReceiptHTML","_ref2","receipt","bg","text","date","amount","itemDesc","methodLabel","cardLast4","orgName","periodLabel","parseExpiry","v","m","trim","match","mon","yr","isNaN","CEOBilling","useOutletContext","auth","useAuth","paymentMethod","setPaymentMethod","useState","receipts","setReceipts","subscription","setSubscription","_auth$org","org","tier","expiresAt","cardNumber","setCardNumber","cardName","setCardName","cardExpiry","setCardExpiry","cardCVV","setCardCVV","autoPay","setAutoPay","busy","setBusy","cardNumberError","setCardNumberError","cardExpiryError","setCardExpiryError","cardCVVError","setCardCVVError","modalState","setModalState","useEffect","PRICES","useMemo","monthly","yearly","cardOnFile","Boolean","planName","planExpiry","toLocaleDateString","subscriptionActive","getTime","async","mockProcessPayment","method","Promise","r","setTimeout","type","body","last4","_ref3","_auth$org2","_auth$user","name","user","email","split","prev","createReceipt","nowTs","s","_objectSpread","err","console","error","handleRemoveCardConfirm","confirmPay","period","brand","confirmDownloadReceipt","html","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","remove","revokeObjectURL","downloadReceipt","confirmPrintReceipt","w","window","write","close","focus","print","e","warn","openPrintView","background","color","disabled","map","status","label","active","periodMs","getReceiptStatus","FaDownload","FaPrint","FaCreditCard","expiry","next","pm","onSubmit","_e$preventDefault","preventDefault","call","startsWith","test","guessCardBrand","isValidCardNumber","parsed","expDate","getFullYear","getMonth","isExpiryInFuture","isValidCVV","saved","slice","addedAt","onChange","cleaned","target","placeholder","inputMode","onBlur","mm","padStart","yy","width","checked","htmlFor","FaSave"],"sourceRoot":""}